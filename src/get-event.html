<script type="text/html" data-template-name="get-event">
  <div class="form-row">
    <label for="node-input-google"><i class="fa fa-user"></i> <span data-i18n="calendar.label.google"></span></label>
    <input type="text" id="node-input-google">
  </div>
  <div class="form-row">
    <label for="node-input-calendar"><i class="fa fa-tag"></i> <span data-i18n="calendar.label.calendar"></span></label>
    <input type="text" id="node-input-calendar">
  </div>
  <div class="form-row">
    <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="calendar.label.name"></span></label>
    <input type="text" id="node-input-name">
  </div>
</script>

<script type="text/html" data-help-name="get-event">
  <p>Return the event from <a href="https://www.google.com/calendar">Google Calendar</a>.</p>
  <p>The incoming message may have the following properties:
    <ul>
      <li><b>event</b> - the id of the event to fetch</li>
      <li><b>calendar</b> - the calendar to add the event to (optional, defaults to the node calendar property or the users primary calendar)</li>
    </ul>
  </p>
</script>

<script type="text/javascript">
(function () {
  RED.nodes.registerType('get-event', {
    category: 'calendar',
    color: '#C0DEED',
    defaults: {
      google: { type: 'google-credentials', required: true },
      name: { value: '' },
      calendar: { value: '' }
    },
    inputs: 1,
    outputs: 1,
    icon: 'get-event.png',
    label: function () {
      return this.name || this._('calendar.label.get-event');
    },
  });
})();
</script>
