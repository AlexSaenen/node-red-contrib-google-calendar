<script type="text/html" data-template-name="add-event">
  <div class="form-row">
    <label for="node-input-google"><i class="fa fa-user"></i> <span data-i18n="calendar.label.google"></span></label>
    <input type="text" id="node-input-google">
  </div>
  <div class="form-row">
    <label for="node-input-calendar"><i class="fa fa-tag"></i> <span data-i18n="calendar.label.calendar"></span></label>
    <input type="text" id="node-input-calendar">
  </div>
  <div class="form-row">
    <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="calendar.label.name"></span></label>
    <input type="text" id="node-input-name">
  </div>
</script>

<script type="text/html" data-help-name="add-event">
  <p>Create an entry in a <a href="https://www.google.com/calendar">Google Calendar</a>.</p>
  <p>The incoming message may have the following properties:
    <ul>
      <li><b>payload</b> - an object to describe the event using <a href="https://support.google.com/calendar/answer/36604?hl=en">quick add format</a> or an object representing the request body for an <a href="https://developers.google.com/google-apps/calendar/v3/reference/events/insert">insert request</a></li>
      <li><b>calendar</b> - the calendar to add the event to (optional, defaults to the node calendar property or the users primary calendar)</li>
      <li><b>sendUpdates</b> - a boolean to determine if notifications should be sent to attendees (optional, defaults to false)</li>
    </ul>
  </p>
</script>

<script type="text/javascript">
(function () {
  RED.nodes.registerType('add-event', {
    category: 'calendar',
    color: '#C0DEED',
    defaults: {
      google: { type: 'google-credentials', required: true },
      name: { value: '' },
      calendar: { value: '' }
    },
    inputs: 1,
    outputs: 1,
    icon: 'add-event.png',
    label: function () {
      return this.name || this._('calendar.label.add-event');
    },
  });
})();
</script>
